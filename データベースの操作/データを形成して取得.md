# 事前準備

### データを準備する

この作業は、データが入ったテーブルの作成まで行います。
そして、今回SQLを使用するのは「ターミナル」ではなく「Sequel Pro」です。

###  ターミナルで以下のコマンドを実行する

```ターミナル（MySQL）
mysql> exit
```

次に、projectsディレクトリに移動し、「sql-curriculum」というアプリケーションをクローンします。

```ターミナル
# projectsディレクトリへ移動
% cd ~/projects

# sql-curriculumをクローン
% git clone https://github.com/we-b/sql-curriculum.git
```

クローンが完了したらそのアプリケーションのディレクトリへ移動します。

```ターミナル
# sql-curriculumディレクトリへ移動
% cd sql-curriculum
```

移動ができたら以下のコマンドを実行し、データベースとテーブルを作成しましょう。
テーブルが作成できれば、rails db:seedでデータを投入します。

```ターミナル
% bundle install
% yarn install
% rails db:create
% rails db:migrate
% rails db:seed #アプリケーション内にすでに用意されたデータを読み込むためのコマンドです。
```

以上でデータを用意する作業は完了です。次に、Sequel Proからデータベースを確認してみます。

## データベースを確認する

Sequel Proにlocalhostで接続し、"sql_curriculum_development"のデータベースを選択します。

![image](https://github.com/koharayuki/til/assets/132040884/f37ace48-64eb-4aab-9e5f-154178fb9a03)


最後に`"shifts"`テーブルを選択し、データがあることを確認できれば、正常にデータの投入が完了しています。


# データを確認する

※例として使用するデータベースでは、ユーザーがアルバイトなどのシフトを提出するという想定のもと、テーブルを作成しています。

データベースには"users"と"shifts"の2つのテーブルがあり、1人のuserは多くのshiftを持つという構造になっています。

それぞれのテーブルは以下のようなカラムを持っています。

`＜usersテーブル＞`
| カラム名	       | 内容              |
| -------------- | ---------------- |
| last_name      | 苗字              |
| first_name	   | 名前              |
| age            | 年齢              |
| prefecture     | 出身の都道府県      |

`＜shiftsテーブル＞`
| カラム名	       | 内容                          |
| -------------- | ----------------------------- |
| date           | シフトの日付                     |
| start_time	   | シフトの開始時間                  |
| user_id        | このシフトが属するユーザーのid       |

※シフトは1コマ2時間制であり、レコード1行が1コマを表しているという前提のため、finish_timeのようなカラムはないものとします。























