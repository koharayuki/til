# ソフトウェアの操作

**なぜターミナルでコマンドを実行するといろいろな動作が行われるのか*、その仕組みを紐解いていきます。

## OSの窓口役

ターミナルで実行されたコマンドを読み取ってくれる**シェル**について学びましょう。


### シェル

シェルは、簡単に言うと「**ターミナルとOSを繋ぐ窓口役**」のような存在です。
ターミナルから入力されたコマンドを読み取って、OSに対して指示を渡し、結果をターミナルに返して表示や実行などの動作をさせます。

これまでは、ターミナルがOSに指示を出しているように感じていたかもしれませんが、実際はこのシェルがターミナルとOSの間に挟まって、コマンドによる命令と実行結果の橋渡しをしています。

シェルにもさまざまな種類があり、それぞれプロンプトやコマンド実行後の出力で、表示と挙動が若干異なります。なかでも**zsh**は、`2019年にmacOSの標準シェル`となりました。

### zsh (ズィーシェル)

zshはシェルの1つです。
ターミナルで`echo $SHELL`とコマンドを実行すると現在使用しているシェルはzshであることがわかります。

2019年macOS Catalinaになる前の標準シェルであったbashと比較すると、コマンドを実行する際に大きな違いはありません。
わかりやすい違いとしては、bashのプロンプトは$なのに対し、zshのプロンプトは%である点です。

zshは、.から始まるドットファイルを作成・編集することで、設定を行うことができます。
環境構築では`、.zshrc`に設定を記述して、**PATH**にアプリケーションの場所を示すことでコマンドを使用可能にしました。

### PATH

PATHとは、「環境変数」と呼ばれるOS用の変数のことです。PATHには、複数の絶対パスの情報が保存されています。
コマンドが入力されたときに、シェルはPATHに記述されたパスのディレクトリ内のファイルを検索します。
つまり、PATHに絶対パスを保存してアプリケーションのありかを示せば、どこからコマンドを実行してもアプリケーションのコマンドを打つことができます。

PATHにアプリケーションのありかを示して、すべてのディレクトリからコマンドを使用可能にすることを、一般的に「PATHを通す」と表現します。

環境構築では、`.zshrc`にインストールした`rbenv`や`MySQL`のコマンドをすべてのディレクトリから使用できるようにPATHを通す作業を行なっています。

```ターミナル:PATHの例
# rbenvのパスを通す
% echo 'eval "$(rbenv init -)"' >> ~/.zshrc

# MySQLのパスを通す
% echo 'export PATH="/usr/local/opt/mysql@5.6/bin:$PATH"' >> ~/.zshrc
```

echoコマンドは、`>>`に続けてファイル名を指定することで、ファイルに文字を追加できるLinuxコマンドです。
`.zshrc`に`rbenv`の設定を反映するためのコマンドを記述することで、PATHを通しています。












